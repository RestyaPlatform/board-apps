(function() {
    var $dc = $(document);

    $dc.ready(function() {
        $('body').bind('appPopupAction', insertAppAction);
    });

    function insertAppAction(e) {
        if ($('#r_codenames_modal').find('.modal-footer').length > 0 && $('#r_codenames_modal .modal-body').find('#js-code-template').length === 0) {
            $('#r_codenames_modal .modal-body').append('<div id="js-code-template"><p>Buy or Listen <a class="text-primary" title="' + i18next.t('Quobuz') + '" href="https://restya.com/board/codenames?v=v0.6.8&s=qobuz" target="_blank">' + i18next.t('Quobuz') + '</a> , <a class="text-primary" title="' + i18next.t('Apple Music') + '" href="https://restya.com/board/codenames?v=v0.6.8&s=apple-music" target="_blank">Apple Music</a> , <a class="text-primary" title="' + i18next.t('Google Play Music') + '" href="https://restya.com/board/codenames?v=v0.6.8&s=google-play-music" target="_blank">Google Play Music</a> , <a class="text-primary" title="' + i18next.t('JioSaavn') + '" href="https://restya.com/board/codenames?v=v0.6.8&s=jiosaavn" target="_blank">' + i18next.t('JioSaavn') + '</a> , <a class="text-primary" title="' + i18next.t('YouTube') + '" href="https://restya.com/board/codenames?v=v0.6.8&s=youtube" target="_blank">' + i18next.t('YouTube') + '</a></p></div>');
        }
    }

    addRequestCallback(function(xhr, arg) {
        if (arg && arg[0] && arg[0].indexOf('codename_template') > -1) {
            var arr = JSON.parse(arg[0]);
            arr.background_picture_url = '//farm4.static.flickr.com/3367/3505039410_0e5c1aef1d_b.jpg';
            arr.music_name = 'Roxette - Listen To Your Heart';
            arr.music_content = 'X:1\nT:Roxette - Listen To Your Heart\nC:Partition par Ritsh\n%%score { ( 1 2 ) | ( 3 4 ) }\nL:1/8\nQ:1/4=88.00\nM:4/4\nI:linebreak $\nK:Dmaj\nV:1 treble nm="Piano" snm="Pia."\n%%MIDI program 0\nV:2 treble\n%%MIDI program 0\nV:3 bass\n%%MIDI\nprogram 0\nV:4 bass\n%%MIDI program 0\nV:1\n"Bm" z B,D"G"A- A G2 F |"A" E2 D"Bm"F- F4 | C/D/A/F/ E/D/"G"B,- B,3 A,/B,/ | %3\n"A" C2 E"Bm"D- D/C/ B,3 |$ z Bd"G"a- a g2 f |"A" e2 d"Bm"f- f4 | c/d/a/f/ e/d/"G"B- B3 B/d/ | %7\n"Em" e8 |:"Bm" [B,D]3"G" B,- B,4 |$"A" C3"Bm" B,- B,4 | [B,D]3"G" B,- B,4 |"A" C3"Bm" B,- B,4 | %12\nz B, B,"G"C/D/- D<B,- B,/B,/D |$"A" C3"Bm" B,- B,4 | B,3"G" B,- B,4 |"Em" [EG]6 E/F/E/D/ | %16\n"Bm" B,3"G" B,- B,4 |$"D" D3"A" C- C4 |"Bm" B,3"G" B,- B,4 |"D" D3"A" C- C4 |"D" [DF]3"A" C- C4 |$ %21\n"G" B,3"D" z z4 |"Bm" B,3"G" B,- B,4 |1"A" z8 ||1"Bm" D/C/ B,3-"G" B,4 ||1$"A" e2 d"Bm"f- f4 ||1 %26\nc/d/a/f/ e/d/"G"B- B3 A/B/ ||1"A" c2 e"Bm"d- d/c/ B2 F/E/ :|2"A" z8 ||"Bm" B8-"G" |$ %30\n"A" B6"Bm" z c | dcB"G"B-"G" BAGF |"A" E/F/E D{/D}E- ED C2 |[K:Emaj]"E" z BBB B G2 G |$ %34\ncBcB- B/A/G- G/F/E |"C#m" z GGG G E2 E/E/ | cBcG- G/F/ E3 |"B" z FFF F D2 D |$"A" cB B(G/F/ E4) | %39\n"B" z FFF G>F- F2 |"C#" z GG^A- AG G/A/G/F/ |:$[K:F#maj]"D#m" [A,D]3"B" [B,D]- [B,D]4 | %42\n"F#" ABA"C#"G- G2 G/A/G/F/ |"D#m" [A,D]3"B" [B,D]- [B,D]4 |"F#" ABA"C#"G- G2 F<G |$ %45\n"F#" [FA]3"C#" [CE]- [CE]4 |"B" [B,D]3"F#" A,- A,4 |"D#m" [A,D]3"B" [B,D]- [B,D]4 |1 %48\n"C#" [CE]3 [CE]- [CE]4 :|2$"D#m" [A,D]3"B" [B,D]- [B,D]4 ||"C#" C8- | C8 |"D#m" F/E/ D3-"B" D4- | %53\n"C#" D8"D#m" | [DFA]3"B" [DFB]- [DFB]4 |$"C#" [CEG]3 [DF]-"D#m" [DF]4 | z DF"B"c- c B2 A | %57\n"C#" G2 FA-"D#m" A4 | E/F/c/A/ G/F/"B"E- E3 D/F/ |"G#m" [B,DG]8 | %60\n"D#m" [A,DF]3"B" [B,DF]- [B,DF]4 |$"C#" [CE]3"D#m" D- D4 |: D3"B" B,- B,4 |"C#" C3"D#m" D- D4 | %64\nD3"B" B,- B,4 |1$"C#" C3"D#m" D- D4 :|2"C#" C3"D#m" D- D4 |] z8 |] %68\nV:2\nx8 | x8 | x8 | x8 |$ x8 | x8 | x8 | x8 |: z FFF GFED |$ EEDF- F/E/ D3 | z FFF GFED | %11\nAA BF/E/ D2 E/D/B, | x8 |$ EEDF- F>E E/F/E/D/ | E<D- D2- DEDB- | B6 z2 | E<D- D4 DE |$ %17\nFGFE- E2 E/F/E/D/ | E<D- D2- D>B, D<E | FGFE- E2 D<E | AA BA/E/- E3 E/D/ |$ %21\nDE GF/E/ D>B, E/F/E/D/ | E<D- D4 DC- |1 C3 D E>E- EC ||1 z Bda- a g2 f ||1$ x8 ||1 x8 ||1 x8 :|2 %28\nC3 D E>A- AB || x8 |$ x8 | x8 | x8 |[K:Emaj] E8 |$ E8 | C8 | C8 | B,8 |$ C8 | B,8 | C8 |:$ %41\n[K:F#maj] G<F AA BAGF | C8 | G<F AA BAGF | C8 |$ cc dc/G/- G3 G | FF BA/G/ F2 G/A/G/F/ | %47\nG<F- F4 AA |1 G3 c- c2 G/A/G/F/ :|2$ G<F- F4 FE- || E2 z2 z4 | z2 z F G>F- FE | x8 | x8 | x8 |$ %55\nx8 | x8 | x8 | x8 | x8 | x8 |$ z4 z2 G/A/G/F/ |: (G<F) z2 z4 | z4 z2 G/A/G/F/ | (G<F) z2 z4 |1$ %65\nz4 z2 G/A/G/F/ :|2 x8 |] x8 |] %68\nV:3\n[B,,F,]3 [G,,D,]- [G,,D,]4 | [A,,E,]3 [B,,F,]- [B,,F,]4 | [B,,F,]3 [G,,D,]- [G,,D,]4 | %3\n[A,,E,]3 [B,,F,]- [B,,F,]4 |$ B,,3 z z4 | A,,3 z z4 | [B,,F,]3 [G,,D,]- [G,,D,]4 | [E,,B,,E,]8 |: %8\n[B,,D,F,]3 [G,,D,G,]- [G,,D,G,]4 |$ [A,,E,A,]3 [B,,D,F,]- [B,,D,F,]4 | %10\n[B,,D,F,]3 [G,,D,G,]- [G,,D,G,]4 | [A,,E,A,]3 [B,,D,F,]- [B,,D,F,]4 | %12\n[B,,D,F,]3 [G,,D,G,]- [G,,D,G,]4 |$ [A,,E,A,]3 [B,,D,F,]- [B,,D,F,]4 | %14\n[B,,D,F,]3 [G,,D,G,]- [G,,D,G,]4 | [E,G,B,]6 z2 | [B,,D,F,]3 [G,,D,G,]- [G,,D,G,]4 |$ %17\n[D,A,]3 [A,,E,A,]- [A,,E,A,]4 | [B,,D,F,]3 [G,,D,G,]- [G,,D,G,]4 | [D,A,]3 [A,,E,A,]- [A,,E,A,]4 | %20\n[D,A,]3 [A,,E,A,]- [A,,E,A,]4 |$ [G,,D,G,]3 [D,F,A,]- [D,F,A,]4 | %22\n[B,,D,F,]3 [G,,D,G,]- [G,,D,G,]4 |1 [A,,E,A,]8 ||1 [B,,D,F,]3 [G,,B,,D,G,]- [G,,B,,D,G,]4 ||1$ %25\n[A,,C,E,A,]3 [B,,D,F,B,]- [B,,D,F,B,]4 ||1 [B,,D,F,B,]3 [G,,B,,D,G,]- [G,,B,,D,G,]4 ||1 %27\n[A,,C,E,A,]3 [B,,D,F,B,]- [B,,D,F,B,]4 :|2 [A,,E,A,]8 || %29\n[B,,D,F,B,]3 [G,,B,,D,G,]- [G,,B,,D,G,]4 |$ [A,,C,E,A,]3 [B,,D,F,B,]- [B,,D,F,B,]4 | %31\n[B,,D,F,B,]3 [G,,B,,D,G,]- [G,,B,,D,G,]4 | [A,,C,E,A,]8 |[K:Emaj] E,3 E,- E,2 E,2 |$ %34\nE,3 E,- E,2 E,2 | C,3 C,- C,2 C,2 | C,3 C,- C,2 C,2 | B,,3 B,,- B,,2 B,,2 |$ A,,3 A,,- A,,2 A,,2 | %39\nB,,3 B,,- B,,2 B,,2 | C,3 C,- C,2 C,2 |:$[K:F#maj] [D,F,]3 [B,,D,F,]- [B,,D,F,]4 | %42\n[F,,C,F,]3 [C,E,G,]- [C,E,G,]4 | [D,F,]3 [B,,D,F,]- [B,,D,F,]4 | [F,,C,F,]3 [C,E,G,]- [C,E,G,]4 |$ %45\n[F,,C,F,]3 [C,E,G,]- [C,E,G,]4 | [B,,D,F,]3 [F,,C,F,]- [F,,C,F,]4 | %47\n[D,F,]3 [B,,D,F,]- [B,,D,F,]4 |1 [C,E,G,]3 [C,E,G,]- [C,E,G,]4 :|2$ %49\n[D,F,]3 [B,,D,F,]- [B,,D,F,]4 || [E,G,]8- | [E,G,]8 | [D,F,]3 [B,,D,F,B,]- [B,,D,F,B,]4 | %53\n[C,E,G,]3 [D,F,A,]- [D,F,A,]4 | [D,F,A,]3 [B,,D,F,]- [B,,D,F,]4 |$ [C,E,G,]3 [D,F,A,]- [D,F,A,]4 | %56\n[D,F,A,]3 [B,,D,F,B,]- [B,,D,F,B,]4 | [C,E,G,C]3 [D,F,A,D]- [D,F,A,D]4 | %58\n[D,F,A,D]3 [B,,D,F,B,]- [B,,D,F,B,]4 | [G,,D,G,]8 | [D,F,]3 [B,,D,F,]- [B,,D,F,]4 |$ %61\n[C,E,G,]3 [D,F,A,]- [D,F,A,]4 |: D,2 C,[B,,D,F,]- [B,,D,F,]4 | [C,E,G,]3 [D,F,A,]- [D,F,A,]4 | %64\n[D,F,A,]3 [B,,D,F,]- [B,,D,F,]4 |1$ [C,E,G,]3 [D,F,A,]- [D,F,A,]4 :|2 %66\n[C,E,G,]3 [D,F,A,]- [D,F,A,]4 |] z8 |] %68\nV:4\nx8 | x8 | x8 | x8 |$ z F,B,[G,,D,G,]- [G,,D,G,]4 | z E,A,[B,,F,B,]- [B,,F,B,]4 | x8 | x8 |: x8 |$ %9\nx8 | x8 | x8 | x8 |$ x8 | x8 | x8 | x8 |$ x8 | x8 | x8 | x8 |$ x8 | x8 |1 x8 ||1 x8 ||1$ x8 ||1 %26\nx8 ||1 x8 :|2 x8 || x8 |$ x8 | x8 | x8 |[K:Emaj] [G,B,]8 |$ [G,B,]8 | [E,G,]8 | [E,G,]8 | %37\n[D,F,]8 |$ [C,E,]8 | [D,F,]8 | [^E,G,]8 |:$[K:F#maj] x8 | x8 | x8 | x8 |$ x8 | x8 | x8 |1 x8 :|2$ %49\nx8 || C,3 C,- C,4 | C,3 C,- C,4 | x8 | x8 | x8 |$ x8 | x8 | x8 | x8 | x8 | x8 |$ x8 |: %62\n[F,A,]3 x5 | x8 | x8 |1$ x8 :|2 x8 |] x8 |] %68';
            arg[0] = JSON.stringify(arr);
        }
    });
})();
